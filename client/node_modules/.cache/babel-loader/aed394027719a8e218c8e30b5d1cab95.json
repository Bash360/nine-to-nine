{"ast":null,"code":"import _objectSpread from \"/Users/bash/Desktop/react/webpack-demo/9to9/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/Users/bash/Desktop/react/webpack-demo/9to9/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/bash/Desktop/react/webpack-demo/9to9/src/components/Signup/Signup.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport InputField from '../InputField/InputField.jsx';\nimport { Redirect } from \"react-router-dom\";\nimport Button from '../Button/index.jsx';\nimport setLocalStorage from '../../setLocalStorage.js';\nimport axios from 'axios';\nimport './Signup.css';\nimport generateUserID from '../../generate-randomID.js';\nexport default function Signup() {\n  const _useState = useState({\n    image: null\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        formDetails = _useState2[0],\n        setFormDetails = _useState2[1];\n\n  const _useState3 = useState(null),\n        _useState4 = _slicedToArray(_useState3, 2),\n        status = _useState4[0],\n        setStatus = _useState4[1];\n\n  let firstname = formDetails.firstname,\n      lastname = formDetails.lastname,\n      email = formDetails.email,\n      password = formDetails.password,\n      retypedPassword = formDetails.retypedPassword,\n      phone = formDetails.phone,\n      gender = formDetails.gender,\n      image = formDetails.image;\n\n  const handleChange = function (event) {\n    if (event.target.checked) {\n      setFormDetails(_objectSpread({}, formDetails, {\n        [event.target.name]: event.target.value\n      }));\n    } else if (event.target.files) {\n      let reader = new FileReader();\n\n      reader.onload = function (evt) {\n        setFormDetails(_objectSpread({}, formDetails, {\n          image: evt.target.result\n        }));\n      };\n\n      reader.readAsDataURL(event.target.files[0]);\n    } else {\n      setFormDetails(_objectSpread({}, formDetails, {\n        [event.target.name]: event.target.value\n      }));\n    }\n  };\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    const user = {\n      id: generateUserID(),\n      firstname: firstname.trim(),\n      lastname: lastname.trim(),\n      email,\n      password,\n      phone,\n      gender\n    };\n    setLocalStorage(\"email\", email);\n    postToDB(user);\n  }\n\n  const postToDB = async user => {\n    try {\n      let post = await axios.post('http://localhost:3000/users/', user);\n      setStatus(post.statusText);\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  return React.createElement(\"div\", {\n    className: \"containerforlogin\",\n    style: {\n      height: '1000px'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"containerLogin\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, \"Sign Up\"), React.createElement(\"label\", {\n    htmlFor: \"firstname\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, \"First Name\"), React.createElement(InputField, {\n    id: \"firstname\",\n    name: \"firstname\",\n    className: \"inputField\",\n    placeholder: \"Enter first name\",\n    type: \"text\",\n    change: handleChange,\n    value: firstname,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    htmlFor: \"lastname\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, \"Last Name\"), React.createElement(InputField, {\n    id: \"lastname\",\n    name: \"lastname\",\n    className: \"inputField\",\n    placeholder: \"Enter last name\",\n    type: \"text\",\n    change: handleChange,\n    value: lastname,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    htmlFor: \"email\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, \"Email\"), React.createElement(InputField, {\n    id: \"email\",\n    name: \"email\",\n    className: \"inputField\",\n    placeholder: \"Enter mail\",\n    type: \"email\",\n    change: handleChange,\n    value: email,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, \"Gender\")), React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      alignContent: 'center',\n      width: '45%',\n      marginBottom: '5px'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    style: {\n      margin: '5px'\n    },\n    htmlFor: \"male\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, \"Male\"), React.createElement(\"input\", {\n    checked: gender === 'male',\n    onChange: handleChange,\n    value: \"male\",\n    id: \"male\",\n    name: \"gender\",\n    type: \"radio\",\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    style: {\n      margin: '5px'\n    },\n    htmlFor: \"female\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }, \"Female\"), React.createElement(\"input\", {\n    checked: gender === 'female',\n    onChange: handleChange,\n    value: \"female\",\n    id: \"female\",\n    name: \"gender\",\n    type: \"radio\",\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  })), React.createElement(\"label\", {\n    htmlFor: \"phone\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }, \"Phone\"), React.createElement(InputField, {\n    id: \"phone\",\n    name: \"phone\",\n    className: \"inputField\",\n    placeholder: \"Enter phone number eg 08182988304\",\n    type: \"tel\",\n    pattern: \"\\\\d{11}\",\n    change: handleChange,\n    value: phone,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    htmlFor: \"image\",\n    style: {\n      borderBottom: '0px'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131\n    },\n    __self: this\n  }, \"Choose a picture:\"), React.createElement(InputField, {\n    change: handleChange,\n    accept: \"image/*\",\n    name: \"image\",\n    className: \"inputField\",\n    type: \"file\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134\n    },\n    __self: this\n  }), image !== null && React.createElement(\"img\", {\n    id: \"thumbnail\",\n    src: image,\n    className: \"thumbnail\",\n    alt: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    htmlFor: \"password\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137\n    },\n    __self: this\n  }, \"Password\"), React.createElement(InputField, {\n    minlength: \"4\",\n    value: password,\n    change: handleChange,\n    name: \"password\",\n    id: \"password\",\n    className: \"inputField\",\n    placeholder: \"Enter password 4 characters atleast\",\n    type: \"password\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    htmlFor: \"retypedPassword\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148\n    },\n    __self: this\n  }, \"Retype Password\"), React.createElement(InputField, {\n    minlength: \"4\",\n    value: retypedPassword,\n    change: handleChange,\n    name: \"retypedPassword\",\n    id: \"retypedPassword\",\n    className: \"inputField\",\n    placeholder: \"Enter password 4 characters atleast\",\n    type: \"password\",\n    pattern: \"\".concat(password),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149\n    },\n    __self: this\n  }), password !== retypedPassword && React.createElement(\"p\", {\n    style: {\n      color: \"red\",\n      marginBottom: \"2px\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160\n    },\n    __self: this\n  }, \"passwords must match\"), React.createElement(Button, {\n    hoverTitle: \"sign up\",\n    buttonLabel: \"sign up \",\n    buttonClass: \"outline-success\",\n    buttonWidth: \"100px\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161\n    },\n    __self: this\n  })), status === \"Created\" ? React.createElement(Redirect, {\n    to: \"/dashboard\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164\n    },\n    __self: this\n  }) : \"\");\n}","map":{"version":3,"sources":["/Users/bash/Desktop/react/webpack-demo/9to9/src/components/Signup/Signup.jsx"],"names":["React","useState","useEffect","InputField","Redirect","Button","setLocalStorage","axios","generateUserID","Signup","image","formDetails","setFormDetails","status","setStatus","firstname","lastname","email","password","retypedPassword","phone","gender","handleChange","event","target","checked","name","value","files","reader","FileReader","onload","evt","result","readAsDataURL","handleSubmit","preventDefault","user","id","trim","postToDB","post","statusText","err","console","error","height","display","alignContent","width","marginBottom","margin","borderBottom","color"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport InputField from '../InputField/InputField.jsx';\nimport {Redirect} from \"react-router-dom\";\nimport Button from '../Button/index.jsx';\nimport setLocalStorage from '../../setLocalStorage.js';\nimport axios from 'axios';\nimport './Signup.css';\nimport generateUserID from '../../generate-randomID.js';\n\nexport default function Signup() {\n\tconst [formDetails, setFormDetails] = useState({ image: null });\n  const [status,setStatus]=useState(null);\n\tlet { firstname, lastname, email, password, retypedPassword, phone, gender, image } = formDetails;\n\tconst handleChange = function (event) {\n\t\tif (event.target.checked) {\n\t\t\tsetFormDetails({ ...formDetails, [event.target.name]: event.target.value });\n\t\t} else if (event.target.files) {\n\t\t\tlet reader = new FileReader();\n\t\t\treader.onload = function (evt) {\n\t\t\t\tsetFormDetails({ ...formDetails, image: evt.target.result });\n\t\t\t};\n\t\t\treader.readAsDataURL(event.target.files[0]);\n\t\t} else {\n\t\t\tsetFormDetails({ ...formDetails, [event.target.name]: event.target.value });\n\t\t\t\n\t\t}\n\t\t};\n\t\n\n\t\tfunction handleSubmit(evt) {\n\t\t\tevt.preventDefault();\n\n\t\t\tconst user = {\n\t\t\t\tid: generateUserID(),\n\t\t\t\tfirstname:firstname.trim(),\n\t\t\t\tlastname:lastname.trim(),\n\t\t\t\temail,\n\t\t\t\tpassword,\n\t\t\t\tphone,\n\t\t\t\tgender\n\t\t\t};\n\t\t\tsetLocalStorage(\"email\",email);\n\t\t\t\n\t\t\tpostToDB(user);\n\t\t}\n\t\tconst postToDB = async user => {\n\t\t\ttry {\n\t\t\tlet post=await\taxios.post('http://localhost:3000/users/', user);\n\t\t\tsetStatus(post.statusText);\n\t\t\t\t\n\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error(err);\n\t\t\t}\n\t\t};\n\t\treturn (\n\t\t\t<div className=\"containerforlogin\" style={{ height: '1000px' }}>\n\t\t\t\t<form onSubmit={handleSubmit} className=\"containerLogin\">\n\t\t\t\t\t<h3>Sign Up</h3>\n\n\t\t\t\t\t<label htmlFor=\"firstname\">First Name</label>\n\t\t\t\t\t<InputField\n\t\t\t\t\t\tid=\"firstname\"\n\t\t\t\t\t\tname=\"firstname\"\n\t\t\t\t\t\tclassName=\"inputField\"\n\t\t\t\t\t\tplaceholder=\"Enter first name\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tchange={handleChange}\n\t\t\t\t\t\tvalue={firstname}\n\t\t\t\t\t/>\n\t\t\t\t\t<label htmlFor=\"lastname\">Last Name</label>\n\t\t\t\t\t<InputField\n\t\t\t\t\t\tid=\"lastname\"\n\t\t\t\t\t\tname=\"lastname\"\n\t\t\t\t\t\tclassName=\"inputField\"\n\t\t\t\t\t\tplaceholder=\"Enter last name\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tchange={handleChange}\n\t\t\t\t\t\tvalue={lastname}\n\t\t\t\t\t/>\n\t\t\t\t\t<label htmlFor=\"email\">Email</label>\n\t\t\t\t\t<InputField\n\t\t\t\t\t\tid=\"email\"\n\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\tclassName=\"inputField\"\n\t\t\t\t\t\tplaceholder=\"Enter mail\"\n\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\tchange={handleChange}\n\t\t\t\t\t\tvalue={email}\n\t\t\t\t\t/>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<p>Gender</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style={{ display: 'flex', alignContent: 'center', width: '45%', marginBottom: '5px' }}>\n\t\t\t\t\t\t<label style={{ margin: '5px' }} htmlFor=\"male\">\n\t\t\t\t\t\t\tMale\n\t\t\t\t\t</label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tchecked={gender === 'male'}\n\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\tvalue=\"male\"\n\t\t\t\t\t\t\tid=\"male\"\n\t\t\t\t\t\t\tname=\"gender\"\n\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<label style={{ margin: '5px' }} htmlFor=\"female\">\n\t\t\t\t\t\t\tFemale\n\t\t\t\t\t</label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tchecked={gender === 'female'}\n\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\tvalue=\"female\"\n\t\t\t\t\t\t\tid=\"female\"\n\t\t\t\t\t\t\tname=\"gender\"\n\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<label htmlFor=\"phone\">Phone</label>\n\t\t\t\t\t<InputField\n\t\t\t\t\t\tid=\"phone\"\n\t\t\t\t\t\tname=\"phone\"\n\t\t\t\t\t\tclassName=\"inputField\"\n\t\t\t\t\t\tplaceholder=\"Enter phone number eg 08182988304\"\n\t\t\t\t\t\ttype=\"tel\"\n\t\t\t\t\t\tpattern=\"\\d{11}\"\n\t\t\t\t\t\tchange={handleChange}\n\t\t\t\t\t\tvalue={phone}\n\t\t\t\t\t/>\n\t\t\t\t\t<label htmlFor=\"image\" style={{ borderBottom: '0px' }}>\n\t\t\t\t\t\tChoose a picture:\n\t\t\t\t</label>\n\t\t\t\t\t<InputField  change={handleChange} accept=\"image/*\" name=\"image\" className=\"inputField\" type=\"file\" />\n\t\t\t\t\t{image !== null && <img id=\"thumbnail\" src={image} className=\"thumbnail\" alt=\"\" />}\n\n\t\t\t\t\t<label htmlFor=\"password\">Password</label>\n\t\t\t\t\t<InputField\n\t\t\t\t\t\tminlength=\"4\"\n\t\t\t\t\t\tvalue={password}\n\t\t\t\t\t\tchange={handleChange}\n\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\tclassName=\"inputField\"\n\t\t\t\t\t\tplaceholder=\"Enter password 4 characters atleast\"\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t/>\n\t\t\t\t\t<label htmlFor=\"retypedPassword\">Retype Password</label>\n\t\t\t\t\t<InputField\n\t\t\t\t\t\tminlength=\"4\"\n\t\t\t\t\t\tvalue={retypedPassword}\n\t\t\t\t\t\tchange={handleChange}\n\t\t\t\t\t\tname=\"retypedPassword\"\n\t\t\t\t\t\tid=\"retypedPassword\"\n\t\t\t\t\t\tclassName=\"inputField\"\n\t\t\t\t\t\tplaceholder=\"Enter password 4 characters atleast\"\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tpattern={`${password}`}\n\t\t\t\t\t/>\n\t\t\t\t\t{password !== retypedPassword  && <p style={{ color: \"red\", marginBottom: \"2px\" }}>passwords must match</p>}\n\t\t\t\t\t<Button hoverTitle=\"sign up\" buttonLabel=\"sign up \" buttonClass=\"outline-success\" buttonWidth=\"100px\" />\n\t\t\t\t\t\n\t\t\t\t</form>\n\t\t\t\t{status===\"Created\"?<Redirect to=\"/dashboard\" />:\"\"}\n\t\t\t</div>\n\t\t);\n\t}\n"]},"metadata":{},"sourceType":"module"}